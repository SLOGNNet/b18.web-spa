<div class="autocomplete-filter">
  <div
    class="infinite-scroll"
    infinite-scroll
    [debounce]="debounce" 
    [infiniteScrollDistance]="infiniteScrollDistance" 
    [scrollWindow]="scrollWindow"
    (scrolled)="onScrolledDown($event)">
    <bd-input
      sticky
      (valueChange)="onAutocompleteChange($event)"
      placeholder="Enter data">
    </bd-input>

    <div *ngIf="isSearchBoxShown">
      <filter-item
        *ngFor="let item of searchedItems; let i = index;"
        [itemTemplate]="itemTemplate"
        (selectedChange)="onSelect($event)"
        [item]="item">
      </filter-item>
      <bd-spinner *ngIf="isLoading"></bd-spinner>
    </div>
    <div *ngIf="!isSearchBoxShown">
      <filter-item
        *ngFor="let item of selectedItems; let i = index;"
        [selected]="'true'"
        [itemTemplate]="itemTemplate"
        (selectedChange)="onSelect($event)"
        [item]="item">
      </filter-item>

      <div *ngIf="allItemsVisible.length">
        <span>ALL VALUES</span>
        <filter-item
          *ngFor="let item of allItemsVisible; let i = index;"
          [itemTemplate]="itemTemplate"
          (selectedChange)="onSelect($event)"
          [item]="item">
        </filter-item>
      </div>
      <bd-spinner *ngIf="isAllItemsLoading"></bd-spinner>
    </div>
  </div>
</div>
