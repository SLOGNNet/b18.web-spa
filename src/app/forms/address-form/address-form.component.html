<form [formGroup]="addressForm">
	<template #customItemTemplate let-model="item" let-index="index">
    <div class="item-wrapper">
			<div class="text">
				{{model.description}}
			</div>
    </div>
</template>
<bd-validator [component]="addressForm.controls.name" [errorDefs]="{required: 'Name is required'}">
  <bd-input class="bd-form-control" formControlName="name" placeholder="Name">
  </bd-input>
</bd-validator>
<bd-typeahead
	class="bd-form-control"
	formControlName="streetAddress"
	placeholder="Street address 1"
  [source]="_placeSource"
  [(value)]="_placeQuery"
  [itemTemplate]="customItemTemplate"
	[removeButtonHidden]="false"
  (onRemove)="onAddressRemove()"
  (onSelect)="onPlaceSelect($event)"
	[optionField]="'description'">
</bd-typeahead>
	<div class="section">
		<div class="left-side">
			<bd-input
				class="bd-form-control left-control"
				placeholder="Street address 2"
				formControlName="secondStreetAddress">
			</bd-input>
			<bd-input class="bd-form-control left-control" formControlName="city" placeholder="City" (valueChange)="onRemoveMap($event)">
			</bd-input>
			<div class="section">
				<bd-input
					class="bd-form-control left-control half-side"
					placeholder="State"
					formControlName="state"
					(valueChange)="onRemoveMap($event)">
				</bd-input>
				<bd-input
					class="bd-form-control middle-control half-side"
					placeholder="Zip"
					(valueChange)="onRemoveMap($event)"
					formControlName="zip">
				</bd-input>
			</div>
		</div>
		<div class="right-side bottom-border">
			<google-map
				[longitude]="_map.longitude"
        [latitude]="_map.latitude"
				[info]="_map.labelText">
			</google-map>
		</div>
	</div>
  	<bd-validator [component]="addressForm.controls.phone" [errorDefs]="{required: 'Phone is required'}">
      <div class="section">
        <bd-input class="bd-form-control left-control left-side" [labelText]="'Phone'" formControlName="phone">
        </bd-input>
        <bd-input class="bd-form-control right-control right-side" placeholder="Extension" formControlName="phoneExtension">
        </bd-input>
    </div>
    </bd-validator>
    <div class="section">
			<bd-input class="bd-form-control left-control left-side" [labelText]="'Fax'" *ngIf='isExpanded' formControlName="fax">
			</bd-input>
			<bd-input class="bd-form-control right-control right-side" placeholder="Extension" formControlName="faxExtension" *ngIf='isExpanded'>
			</bd-input>
    </div>
</form>
