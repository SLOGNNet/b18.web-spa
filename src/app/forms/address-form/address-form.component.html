<form [formGroup]="addressForm" [ngClass]="formViewMode">
	<template #customItemTemplate let-model="item" let-index="index">
    <div class="item-wrapper">
			<div class="text">
				{{model.description}}
			</div>
    </div>
</template>
<bd-typeahead
	class="bd-form-control"
	formControlName="streetAddress"
	placeholder="Street address 1"
  [source]="_placeSource"
  [(value)]="_placeQuery"
  [itemTemplate]="customItemTemplate"
	[removeButtonHidden]="true"
  (onSelect)="onPlaceSelect($event)"
	[optionField]="'description'">
</bd-typeahead>
	<div class="section">
		<div class="left-side right-border">
		<bd-input
			class="bd-form-control"
			placeholder="Street address 2"
			(valueChange)="onRemoveMap($event)"
			formControlName="secondStreetAddress">
		</bd-input>
			<bd-input class="bd-form-control" formControlName="city" placeholder="City" (valueChange)="onRemoveMap($event)">
			</bd-input>
			<div class="section">
				<div class="right-border">
					<bd-input
					class="bd-form-control"
					placeholder="State"
					formControlName="state"
					(valueChange)="onRemoveMap($event)">
					</bd-input>
				</div>
				<bd-input
					class="bd-form-control"
					placeholder="Zip"
					(valueChange)="onRemoveMap($event)"
					formControlName="zip">
				</bd-input>
			</div>
		</div>
		<div class="right-side bottom-border">
			<google-map
				[location]="_map.location"
				[info]="_map.labelText">
			</google-map>
		</div>
	</div>
	<div class="section">
  	<bd-validator [component]="addressForm.controls.phone" [errorDefs]="{required: 'Phone is required'}">
      <div class="left-side right-border">
        <bd-input class="bd-form-control" [labelText]="'Phone'" formControlName="phone">
        </bd-input>
      </div>
      <div class="right-side">
        <bd-input class="bd-form-control" placeholder="Extension" formControlName="phoneExtension">
        </bd-input>
      </div>
    </bd-validator>
    <div>
      <div class="left-side right-border">
        <bd-input class="bd-form-control" [labelText]="'Fax'" *ngIf='isExpanded' formControlName="fax">
        </bd-input>
      </div>
      <div class="right-side">
        <bd-input class="bd-form-control" placeholder="Extension" formControlName="faxExtension" *ngIf='isExpanded'>
        </bd-input>
      </div>
    </div>
	</div>
</form>
